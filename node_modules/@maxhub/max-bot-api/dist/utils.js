"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.streamToBlob = exports.sleep = void 0;
const sleep = async (ms) => {
    await new Promise((resolve) => {
        setTimeout(resolve, ms);
    });
};
exports.sleep = sleep;
const streamToBlob = async (stream, mimeType) => {
    return new Promise((resolve, reject) => {
        const chunks = [];
        stream
            .on('data', (chunk) => chunks.push(chunk))
            .once('end', () => {
            const blob = mimeType
                ? new Blob(chunks, { type: mimeType })
                : new Blob(chunks);
            resolve(blob);
        })
            .once('error', reject);
    });
};
exports.streamToBlob = streamToBlob;
